var Eu=Object.create;var It=Object.defineProperty,Cu=Object.defineProperties,Pu=Object.getOwnPropertyDescriptor,Au=Object.getOwnPropertyDescriptors,vu=Object.getOwnPropertyNames,Tr=Object.getOwnPropertySymbols,Bu=Object.getPrototypeOf,Cn=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable;var Ri=(n,r,o)=>r in n?It(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,M=(n,r)=>{for(var o in r||(r={}))Cn.call(r,o)&&Ri(n,o,r[o]);if(Tr)for(var o of Tr(r))Ti.call(r,o)&&Ri(n,o,r[o]);return n},ue=(n,r)=>Cu(n,Au(r)),Ei=n=>It(n,"__esModule",{value:!0});var Ci=(n,r)=>{var o={};for(var a in n)Cn.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Tr)for(var a of Tr(n))r.indexOf(a)<0&&Ti.call(n,a)&&(o[a]=n[a]);return o};var Ot=(n,r)=>()=>(n&&(r=n(n=0)),r);var A=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Pn=(n,r)=>{for(var o in r)It(n,o,{get:r[o],enumerable:!0})},Pi=(n,r,o,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of vu(r))!Cn.call(n,s)&&(o||s!=="default")&&It(n,s,{get:()=>r[s],enumerable:!(a=Pu(r,s))||a.enumerable});return n},ce=(n,r)=>Pi(Ei(It(n!=null?Eu(Bu(n)):{},"default",!r&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),Iu=(n=>(r,o)=>n&&n.get(r)||(o=Pi(Ei({}),r,1),n&&n.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var Oi=A((Jf,Ii)=>{Ii.exports=Bi;Bi.sync=ku;var Ai=require("fs");function Ou(n,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var a=0;a<o.length;a++){var s=o[a].toLowerCase();if(s&&n.substr(-s.length).toLowerCase()===s)return!0}return!1}function vi(n,r,o){return!n.isSymbolicLink()&&!n.isFile()?!1:Ou(r,o)}function Bi(n,r,o){Ai.stat(n,function(a,s){o(a,a?!1:vi(s,n,r))})}function ku(n,r){return vi(Ai.statSync(n),n,r)}});var Di=A((ed,Fi)=>{Fi.exports=xi;xi.sync=xu;var ki=require("fs");function xi(n,r,o){ki.stat(n,function(a,s){o(a,a?!1:qi(s,r))})}function xu(n,r){return qi(ki.statSync(n),r)}function qi(n,r){return n.isFile()&&qu(n,r)}function qu(n,r){var o=n.mode,a=n.uid,s=n.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),f=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),m=parseInt("100",8),b=parseInt("010",8),p=parseInt("001",8),R=m|b,T=o&p||o&b&&s===f||o&m&&a===u||o&R&&u===0;return T}});var Li=A((rd,Wi)=>{var td=require("fs"),Er;process.platform==="win32"||global.TESTING_WINDOWS?Er=Oi():Er=Di();Wi.exports=An;An.sync=Fu;function An(n,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(a,s){An(n,r||{},function(u,f){u?s(u):a(f)})})}Er(n,r||{},function(a,s){a&&(a.code==="EACCES"||r&&r.ignoreErrors)&&(a=null,s=!1),o(a,s)})}function Fu(n,r){try{return Er.sync(n,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Hi=A((nd,Ui)=>{var nt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",zi=require("path"),Du=nt?";":":",$i=Li(),Mi=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),ji=(n,r)=>{let o=r.colon||Du,a=n.match(/\//)||nt&&n.match(/\\/)?[""]:[...nt?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=nt?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=nt?s.split(o):[""];return nt&&n.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:a,pathExt:u,pathExtExe:s}},Ni=(n,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:a,pathExt:s,pathExtExe:u}=ji(n,r),f=[],m=p=>new Promise((R,T)=>{if(p===a.length)return r.all&&f.length?R(f):T(Mi(n));let S=a[p],g=/^".*"$/.test(S)?S.slice(1,-1):S,y=zi.join(g,n),C=!g&&/^\.[\\\/]/.test(n)?n.slice(0,2)+y:y;R(b(C,p,0))}),b=(p,R,T)=>new Promise((S,g)=>{if(T===s.length)return S(m(R+1));let y=s[T];$i(p+y,{pathExt:u},(C,P)=>{if(!C&&P)if(r.all)f.push(p+y);else return S(p+y);return S(b(p,R,T+1))})});return o?m(0).then(p=>o(null,p),o):m(0)},Wu=(n,r)=>{r=r||{};let{pathEnv:o,pathExt:a,pathExtExe:s}=ji(n,r),u=[];for(let f=0;f<o.length;f++){let m=o[f],b=/^".*"$/.test(m)?m.slice(1,-1):m,p=zi.join(b,n),R=!b&&/^\.[\\\/]/.test(n)?n.slice(0,2)+p:p;for(let T=0;T<a.length;T++){let S=R+a[T];try{if($i.sync(S,{pathExt:s}))if(r.all)u.push(S);else return S}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw Mi(n)};Ui.exports=Ni;Ni.sync=Wu});var Bn=A((od,vn)=>{"use strict";var Gi=(n={})=>{let r=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"};vn.exports=Gi;vn.exports.default=Gi});var Xi=A((id,Qi)=>{"use strict";var Vi=require("path"),Lu=Hi(),zu=Bn();function Yi(n,r){let o=n.options.env||process.env,a=process.cwd(),s=n.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(n.options.cwd)}catch{}let f;try{f=Lu.sync(n.command,{path:o[zu({env:o})],pathExt:r?Vi.delimiter:void 0})}catch{}finally{u&&process.chdir(a)}return f&&(f=Vi.resolve(s?n.options.cwd:"",f)),f}function $u(n){return Yi(n)||Yi(n,!0)}Qi.exports=$u});var Ki=A((ad,On)=>{"use strict";var In=/([()\][%!^"`<>&|;, *?])/g;function Mu(n){return n=n.replace(In,"^$1"),n}function ju(n,r){return n=`${n}`,n=n.replace(/(\\*)"/g,'$1$1\\"'),n=n.replace(/(\\*)$/,"$1$1"),n=`"${n}"`,n=n.replace(In,"^$1"),r&&(n=n.replace(In,"^$1")),n}On.exports.command=Mu;On.exports.argument=ju});var Ji=A((sd,Zi)=>{"use strict";Zi.exports=/^#!(.*)/});var ta=A((ld,ea)=>{"use strict";var Nu=Ji();ea.exports=(n="")=>{let r=n.match(Nu);if(!r)return null;let[o,a]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?a:a?`${s} ${a}`:s}});var na=A((ud,ra)=>{"use strict";var kn=require("fs"),Uu=ta();function Hu(n){let o=Buffer.alloc(150),a;try{a=kn.openSync(n,"r"),kn.readSync(a,o,0,150,0),kn.closeSync(a)}catch{}return Uu(o.toString())}ra.exports=Hu});var sa=A((cd,aa)=>{"use strict";var Gu=require("path"),oa=Xi(),ia=Ki(),Vu=na(),Yu=process.platform==="win32",Qu=/\.(?:com|exe)$/i,Xu=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Ku(n){n.file=oa(n);let r=n.file&&Vu(n.file);return r?(n.args.unshift(n.file),n.command=r,oa(n)):n.file}function Zu(n){if(!Yu)return n;let r=Ku(n),o=!Qu.test(r);if(n.options.forceShell||o){let a=Xu.test(r);n.command=Gu.normalize(n.command),n.command=ia.command(n.command),n.args=n.args.map(u=>ia.argument(u,a));let s=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${s}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function Ju(n,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let a={command:n,args:r,options:o,file:void 0,original:{command:n,args:r}};return o.shell?a:Zu(a)}aa.exports=Ju});var ca=A((fd,ua)=>{"use strict";var xn=process.platform==="win32";function qn(n,r){return Object.assign(new Error(`${r} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${n.command}`,path:n.command,spawnargs:n.args})}function ec(n,r){if(!xn)return;let o=n.emit;n.emit=function(a,s){if(a==="exit"){let u=la(s,r,"spawn");if(u)return o.call(n,"error",u)}return o.apply(n,arguments)}}function la(n,r){return xn&&n===1&&!r.file?qn(r.original,"spawn"):null}function tc(n,r){return xn&&n===1&&!r.file?qn(r.original,"spawnSync"):null}ua.exports={hookChildProcess:ec,verifyENOENT:la,verifyENOENTSync:tc,notFoundError:qn}});var ha=A((dd,ot)=>{"use strict";var fa=require("child_process"),Fn=sa(),Dn=ca();function da(n,r,o){let a=Fn(n,r,o),s=fa.spawn(a.command,a.args,a.options);return Dn.hookChildProcess(s,a),s}function rc(n,r,o){let a=Fn(n,r,o),s=fa.spawnSync(a.command,a.args,a.options);return s.error=s.error||Dn.verifyENOENTSync(s.status,a),s}ot.exports=da;ot.exports.spawn=da;ot.exports.sync=rc;ot.exports._parse=Fn;ot.exports._enoent=Dn});var pa=A((hd,ma)=>{"use strict";ma.exports=n=>{let r=typeof n=="string"?`
`:`
`.charCodeAt(),o=typeof n=="string"?"\r":"\r".charCodeAt();return n[n.length-1]===r&&(n=n.slice(0,n.length-1)),n[n.length-1]===o&&(n=n.slice(0,n.length-1)),n}});var ga=A((md,xt)=>{"use strict";var kt=require("path"),ba=Bn(),ya=n=>{n=M({cwd:process.cwd(),path:process.env[ba()],execPath:process.execPath},n);let r,o=kt.resolve(n.cwd),a=[];for(;r!==o;)a.push(kt.join(o,"node_modules/.bin")),r=o,o=kt.resolve(o,"..");let s=kt.resolve(n.cwd,n.execPath,"..");return a.push(s),a.concat(n.path).join(kt.delimiter)};xt.exports=ya;xt.exports.default=ya;xt.exports.env=n=>{n=M({env:process.env},n);let r=M({},n.env),o=ba({env:r});return n.path=r[o],r[o]=xt.exports(n),r}});var _a=A((pd,Wn)=>{"use strict";var Sa=(n,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o));return n};Wn.exports=Sa;Wn.exports.default=Sa});var Ra=A((bd,Pr)=>{"use strict";var nc=_a(),Cr=new WeakMap,wa=(n,r={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let o,a=0,s=n.displayName||n.name||"<anonymous>",u=function(...f){if(Cr.set(u,++a),a===1)o=n.apply(this,f),n=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return nc(u,n),Cr.set(u,a),u};Pr.exports=wa;Pr.exports.default=wa;Pr.exports.callCount=n=>{if(!Cr.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Cr.get(n)}});var Ta=A(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.SIGNALS=void 0;var oc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Ar.SIGNALS=oc});var Ln=A(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.SIGRTMAX=it.getRealtimeSignals=void 0;var ic=function(){let n=Ca-Ea+1;return Array.from({length:n},ac)};it.getRealtimeSignals=ic;var ac=function(n,r){return{name:`SIGRT${r+1}`,number:Ea+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ea=34,Ca=64;it.SIGRTMAX=Ca});var Pa=A(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.getSignals=void 0;var sc=require("os"),lc=Ta(),uc=Ln(),cc=function(){let n=(0,uc.getRealtimeSignals)();return[...lc.SIGNALS,...n].map(fc)};vr.getSignals=cc;var fc=function({name:n,number:r,description:o,action:a,forced:s=!1,standard:u}){let{signals:{[n]:f}}=sc.constants,m=f!==void 0;return{name:n,number:m?f:r,description:o,supported:m,action:a,forced:s,standard:u}}});var va=A(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.signalsByNumber=at.signalsByName=void 0;var dc=require("os"),Aa=Pa(),hc=Ln(),mc=function(){return(0,Aa.getSignals)().reduce(pc,{})},pc=function(n,{name:r,number:o,description:a,supported:s,action:u,forced:f,standard:m}){return ue(M({},n),{[r]:{name:r,number:o,description:a,supported:s,action:u,forced:f,standard:m}})},bc=mc();at.signalsByName=bc;var yc=function(){let n=(0,Aa.getSignals)(),r=hc.SIGRTMAX+1,o=Array.from({length:r},(a,s)=>gc(s,n));return Object.assign({},...o)},gc=function(n,r){let o=Sc(n,r);if(o===void 0)return{};let{name:a,description:s,supported:u,action:f,forced:m,standard:b}=o;return{[n]:{name:a,number:n,description:s,supported:u,action:f,forced:m,standard:b}}},Sc=function(n,r){let o=r.find(({name:a})=>dc.constants.signals[a]===n);return o!==void 0?o:r.find(a=>a.number===n)},_c=yc();at.signalsByNumber=_c});var Ia=A((wd,Ba)=>{"use strict";var{signalsByName:wc}=va(),Rc=({timedOut:n,timeout:r,errorCode:o,signal:a,signalDescription:s,exitCode:u,isCanceled:f})=>n?`timed out after ${r} milliseconds`:f?"was canceled":o!==void 0?`failed with ${o}`:a!==void 0?`was killed with ${a} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",Tc=({stdout:n,stderr:r,all:o,error:a,signal:s,exitCode:u,command:f,escapedCommand:m,timedOut:b,isCanceled:p,killed:R,parsed:{options:{timeout:T}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let S=s===void 0?void 0:wc[s].description,g=a&&a.code,C=`Command ${Rc({timedOut:b,timeout:T,errorCode:g,signal:s,signalDescription:S,exitCode:u,isCanceled:p})}: ${f}`,P=Object.prototype.toString.call(a)==="[object Error]",v=P?`${C}
${a.message}`:C,F=[v,r,n].filter(Boolean).join(`
`);return P?(a.originalMessage=a.message,a.message=F):a=new Error(F),a.shortMessage=v,a.command=f,a.escapedCommand=m,a.exitCode=u,a.signal=s,a.signalDescription=S,a.stdout=n,a.stderr=r,o!==void 0&&(a.all=o),"bufferedData"in a&&delete a.bufferedData,a.failed=!0,a.timedOut=Boolean(b),a.isCanceled=p,a.killed=R&&!b,a};Ba.exports=Tc});var ka=A((Rd,zn)=>{"use strict";var Br=["stdin","stdout","stderr"],Ec=n=>Br.some(r=>n[r]!==void 0),Oa=n=>{if(!n)return;let{stdio:r}=n;if(r===void 0)return Br.map(a=>n[a]);if(Ec(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Br.map(a=>`\`${a}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,Br.length);return Array.from({length:o},(a,s)=>r[s])};zn.exports=Oa;zn.exports.node=n=>{let r=Oa(n);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var xa=A((Td,Ir)=>{Ir.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ir.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ir.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var La=A((Ed,ut)=>{var $=global.process,ze=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};ze($)?(qa=require("assert"),st=xa(),Fa=/^win/i.test($.platform),qt=require("events"),typeof qt!="function"&&(qt=qt.EventEmitter),$.__signal_exit_emitter__?N=$.__signal_exit_emitter__:(N=$.__signal_exit_emitter__=new qt,N.count=0,N.emitted={}),N.infinite||(N.setMaxListeners(1/0),N.infinite=!0),ut.exports=function(n,r){if(!ze(global.process))return function(){};qa.equal(typeof n,"function","a callback must be provided for exit handler"),lt===!1&&$n();var o="exit";r&&r.alwaysLast&&(o="afterexit");var a=function(){N.removeListener(o,n),N.listeners("exit").length===0&&N.listeners("afterexit").length===0&&Or()};return N.on(o,n),a},Or=function(){!lt||!ze(global.process)||(lt=!1,st.forEach(function(r){try{$.removeListener(r,kr[r])}catch{}}),$.emit=xr,$.reallyExit=Mn,N.count-=1)},ut.exports.unload=Or,$e=function(r,o,a){N.emitted[r]||(N.emitted[r]=!0,N.emit(r,o,a))},kr={},st.forEach(function(n){kr[n]=function(){if(!!ze(global.process)){var o=$.listeners(n);o.length===N.count&&(Or(),$e("exit",null,n),$e("afterexit",null,n),Fa&&n==="SIGHUP"&&(n="SIGINT"),$.kill($.pid,n))}}}),ut.exports.signals=function(){return st},lt=!1,$n=function(){lt||!ze(global.process)||(lt=!0,N.count+=1,st=st.filter(function(r){try{return $.on(r,kr[r]),!0}catch{return!1}}),$.emit=Wa,$.reallyExit=Da)},ut.exports.load=$n,Mn=$.reallyExit,Da=function(r){!ze(global.process)||($.exitCode=r||0,$e("exit",$.exitCode,null),$e("afterexit",$.exitCode,null),Mn.call($,$.exitCode))},xr=$.emit,Wa=function(r,o){if(r==="exit"&&ze(global.process)){o!==void 0&&($.exitCode=o);var a=xr.apply(this,arguments);return $e("exit",$.exitCode,null),$e("afterexit",$.exitCode,null),a}else return xr.apply(this,arguments)}):ut.exports=function(){return function(){}};var qa,st,Fa,qt,N,Or,$e,kr,lt,$n,Mn,Da,xr,Wa});var $a=A((Cd,za)=>{"use strict";var Cc=require("os"),Pc=La(),Ac=1e3*5,vc=(n,r="SIGTERM",o={})=>{let a=n(r);return Bc(n,r,o,a),a},Bc=(n,r,o,a)=>{if(!Ic(r,o,a))return;let s=kc(o),u=setTimeout(()=>{n("SIGKILL")},s);u.unref&&u.unref()},Ic=(n,{forceKillAfterTimeout:r},o)=>Oc(n)&&r!==!1&&o,Oc=n=>n===Cc.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",kc=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Ac;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},xc=(n,r)=>{n.kill()&&(r.isCanceled=!0)},qc=(n,r,o)=>{n.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},Fc=(n,{timeout:r,killSignal:o="SIGTERM"},a)=>{if(r===0||r===void 0)return a;let s,u=new Promise((m,b)=>{s=setTimeout(()=>{qc(n,o,b)},r)}),f=a.finally(()=>{clearTimeout(s)});return Promise.race([u,f])},Dc=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},Wc=async(n,{cleanup:r,detached:o},a)=>{if(!r||o)return a;let s=Pc(()=>{n.kill()});return a.finally(()=>{s()})};za.exports={spawnedKill:vc,spawnedCancel:xc,setupTimeout:Fc,validateTimeout:Dc,setExitHandler:Wc}});var ja=A((Pd,Ma)=>{"use strict";var he=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";he.writable=n=>he(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object";he.readable=n=>he(n)&&n.readable!==!1&&typeof n._read=="function"&&typeof n._readableState=="object";he.duplex=n=>he.writable(n)&&he.readable(n);he.transform=n=>he.duplex(n)&&typeof n._transform=="function";Ma.exports=he});var Ua=A((Ad,Na)=>{"use strict";var{PassThrough:Lc}=require("stream");Na.exports=n=>{n=M({},n);let{array:r}=n,{encoding:o}=n,a=o==="buffer",s=!1;r?s=!(o||a):o=o||"utf8",a&&(o=null);let u=new Lc({objectMode:s});o&&u.setEncoding(o);let f=0,m=[];return u.on("data",b=>{m.push(b),s?f=m.length:f+=b.length}),u.getBufferedValue=()=>r?m:a?Buffer.concat(m,f):m.join(""),u.getBufferedLength=()=>f,u}});var Ha=A((vd,Ft)=>{"use strict";var{constants:zc}=require("buffer"),$c=require("stream"),{promisify:Mc}=require("util"),jc=Ua(),Nc=Mc($c.pipeline),jn=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Nn(n,r){if(!n)throw new Error("Expected a stream");r=M({maxBuffer:1/0},r);let{maxBuffer:o}=r,a=jc(r);return await new Promise((s,u)=>{let f=m=>{m&&a.getBufferedLength()<=zc.MAX_LENGTH&&(m.bufferedData=a.getBufferedValue()),u(m)};(async()=>{try{await Nc(n,a),s()}catch(m){f(m)}})(),a.on("data",()=>{a.getBufferedLength()>o&&f(new jn)})}),a.getBufferedValue()}Ft.exports=Nn;Ft.exports.buffer=(n,r)=>Nn(n,ue(M({},r),{encoding:"buffer"}));Ft.exports.array=(n,r)=>Nn(n,ue(M({},r),{array:!0}));Ft.exports.MaxBufferError=jn});var Va=A((Bd,Ga)=>{"use strict";var{PassThrough:Uc}=require("stream");Ga.exports=function(){var n=[],r=new Uc({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=a,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(n.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function a(){return n.length==0}function s(u){n=n.filter(function(f){return f!==u}),!n.length&&r.readable&&r.end()}}});var Ka=A((Id,Xa)=>{"use strict";var Qa=ja(),Ya=Ha(),Hc=Va(),Gc=(n,r)=>{r===void 0||n.stdin===void 0||(Qa(r)?r.pipe(n.stdin):n.stdin.end(r))},Vc=(n,{all:r})=>{if(!r||!n.stdout&&!n.stderr)return;let o=Hc();return n.stdout&&o.add(n.stdout),n.stderr&&o.add(n.stderr),o},Un=async(n,r)=>{if(!!n){n.destroy();try{return await r}catch(o){return o.bufferedData}}},Hn=(n,{encoding:r,buffer:o,maxBuffer:a})=>{if(!(!n||!o))return r?Ya(n,{encoding:r,maxBuffer:a}):Ya.buffer(n,{maxBuffer:a})},Yc=async({stdout:n,stderr:r,all:o},{encoding:a,buffer:s,maxBuffer:u},f)=>{let m=Hn(n,{encoding:a,buffer:s,maxBuffer:u}),b=Hn(r,{encoding:a,buffer:s,maxBuffer:u}),p=Hn(o,{encoding:a,buffer:s,maxBuffer:u*2});try{return await Promise.all([f,m,b,p])}catch(R){return Promise.all([{error:R,signal:R.signal,timedOut:R.timedOut},Un(n,m),Un(r,b),Un(o,p)])}},Qc=({input:n})=>{if(Qa(n))throw new TypeError("The `input` option cannot be a stream in sync mode")};Xa.exports={handleInput:Gc,makeAllStream:Vc,getSpawnedResult:Yc,validateInputSync:Qc}});var Ja=A((Od,Za)=>{"use strict";var Xc=(async()=>{})().constructor.prototype,Kc=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(Xc,n)]),Zc=(n,r)=>{for(let[o,a]of Kc){let s=typeof r=="function"?(...u)=>Reflect.apply(a.value,r(),u):a.value.bind(r);Reflect.defineProperty(n,o,ue(M({},a),{value:s}))}return n},Jc=n=>new Promise((r,o)=>{n.on("exit",(a,s)=>{r({exitCode:a,signal:s})}),n.on("error",a=>{o(a)}),n.stdin&&n.stdin.on("error",a=>{o(a)})});Za.exports={mergePromise:Zc,getSpawnedPromise:Jc}});var rs=A((kd,ts)=>{"use strict";var es=(n,r=[])=>Array.isArray(r)?[n,...r]:[n],ef=/^[\w.-]+$/,tf=/"/g,rf=n=>typeof n!="string"||ef.test(n)?n:`"${n.replace(tf,'\\"')}"`,nf=(n,r)=>es(n,r).join(" "),of=(n,r)=>es(n,r).map(o=>rf(o)).join(" "),af=/ +/g,sf=n=>{let r=[];for(let o of n.trim().split(af)){let a=r[r.length-1];a&&a.endsWith("\\")?r[r.length-1]=`${a.slice(0,-1)} ${o}`:r.push(o)}return r};ts.exports={joinCommand:nf,getEscapedCommand:of,parseCommand:sf}});var us=A((xd,ct)=>{"use strict";var lf=require("path"),Gn=require("child_process"),uf=ha(),cf=pa(),ff=ga(),df=Ra(),qr=Ia(),os=ka(),{spawnedKill:hf,spawnedCancel:mf,setupTimeout:pf,validateTimeout:bf,setExitHandler:yf}=$a(),{handleInput:gf,getSpawnedResult:Sf,makeAllStream:_f,validateInputSync:wf}=Ka(),{mergePromise:ns,getSpawnedPromise:Rf}=Ja(),{joinCommand:is,parseCommand:as,getEscapedCommand:ss}=rs(),Tf=1e3*1e3*100,Ef=({env:n,extendEnv:r,preferLocal:o,localDir:a,execPath:s})=>{let u=r?M(M({},process.env),n):n;return o?ff.env({env:u,cwd:a,execPath:s}):u},ls=(n,r,o={})=>{let a=uf._parse(n,r,o);return n=a.command,r=a.args,o=a.options,o=M({maxBuffer:Tf,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},o),o.env=Ef(o),o.stdio=os(o),process.platform==="win32"&&lf.basename(n,".exe")==="cmd"&&r.unshift("/q"),{file:n,args:r,options:o,parsed:a}},Dt=(n,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":n.stripFinalNewline?cf(r):r,Fr=(n,r,o)=>{let a=ls(n,r,o),s=is(n,r),u=ss(n,r);bf(a.options);let f;try{f=Gn.spawn(a.file,a.args,a.options)}catch(g){let y=new Gn.ChildProcess,C=Promise.reject(qr({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:a,timedOut:!1,isCanceled:!1,killed:!1}));return ns(y,C)}let m=Rf(f),b=pf(f,a.options,m),p=yf(f,a.options,b),R={isCanceled:!1};f.kill=hf.bind(null,f.kill.bind(f)),f.cancel=mf.bind(null,f,R);let S=df(async()=>{let[{error:g,exitCode:y,signal:C,timedOut:P},v,F,H]=await Sf(f,a.options,p),I=Dt(a.options,v),z=Dt(a.options,F),k=Dt(a.options,H);if(g||y!==0||C!==null){let oe=qr({error:g,exitCode:y,signal:C,stdout:I,stderr:z,all:k,command:s,escapedCommand:u,parsed:a,timedOut:P,isCanceled:R.isCanceled,killed:f.killed});if(!a.options.reject)return oe;throw oe}return{command:s,escapedCommand:u,exitCode:0,stdout:I,stderr:z,all:k,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return gf(f,a.options.input),f.all=_f(f,a.options),ns(f,S)};ct.exports=Fr;ct.exports.sync=(n,r,o)=>{let a=ls(n,r,o),s=is(n,r),u=ss(n,r);wf(a.options);let f;try{f=Gn.spawnSync(a.file,a.args,a.options)}catch(p){throw qr({error:p,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:a,timedOut:!1,isCanceled:!1,killed:!1})}let m=Dt(a.options,f.stdout,f.error),b=Dt(a.options,f.stderr,f.error);if(f.error||f.status!==0||f.signal!==null){let p=qr({stdout:m,stderr:b,error:f.error,signal:f.signal,exitCode:f.status,command:s,escapedCommand:u,parsed:a,timedOut:f.error&&f.error.code==="ETIMEDOUT",isCanceled:!1,killed:f.signal!==null});if(!a.options.reject)return p;throw p}return{command:s,escapedCommand:u,exitCode:0,stdout:m,stderr:b,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};ct.exports.command=(n,r)=>{let[o,...a]=as(n);return Fr(o,a,r)};ct.exports.commandSync=(n,r)=>{let[o,...a]=as(n);return Fr.sync(o,a,r)};ct.exports.node=(n,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let a=os.node(o),s=process.execArgv.filter(m=>!m.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:f=s}=o;return Fr(u,[...f,n,...Array.isArray(r)?r:[]],ue(M({},o),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:a,shell:!1}))}});var gs=A((Wr,ys)=>{(function(n,r){typeof Wr=="object"&&typeof ys<"u"?r(Wr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(Wr,function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function a(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=a();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,m=Promise,b=Promise.prototype.then,p=Promise.resolve.bind(m),R=Promise.reject.bind(m);function T(e){return new m(e)}function S(e){return p(e)}function g(e){return R(e)}function y(e,t,i){return b.call(e,t,i)}function C(e,t,i){y(y(e,t,i),void 0,f)}function P(e,t){C(e,t)}function v(e,t){C(e,void 0,t)}function F(e,t,i){return y(e,t,i)}function H(e){y(e,void 0,f)}let I=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return i=>y(t,i)})();function z(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function k(e,t,i){try{return S(z(e,t,i))}catch(l){return g(l)}}let oe=16384;class X{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let i=this._back,l=i;i._elements.length===oe-1&&(l={_elements:[],_next:void 0}),i._elements.push(t),l!==i&&(this._back=l,i._next=l),++this._size}shift(){let t=this._front,i=t,l=this._cursor,c=l+1,d=t._elements,h=d[l];return c===oe&&(i=t._next,c=0),--this._size,this._cursor=c,t!==i&&(this._front=i),d[l]=void 0,h}forEach(t){let i=this._cursor,l=this._front,c=l._elements;for(;(i!==c.length||l._next!==void 0)&&!(i===c.length&&(l=l._next,c=l._elements,i=0,c.length===0));)t(c[i]),++i}peek(){let t=this._front,i=this._cursor;return t._elements[i]}}function ao(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Vr(e):t._state==="closed"?Js(e):so(e,t._storedError)}function Gr(e,t){let i=e._ownerReadableStream;return se(i,t)}function pe(e){e._ownerReadableStream._state==="readable"?Yr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):el(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function He(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Vr(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function so(e,t){Vr(e),Yr(e,t)}function Js(e){Vr(e),lo(e)}function Yr(e,t){e._closedPromise_reject!==void 0&&(H(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function el(e,t){so(e,t)}function lo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let uo=r("[[AbortSteps]]"),co=r("[[ErrorSteps]]"),Qr=r("[[CancelSteps]]"),Xr=r("[[PullSteps]]"),fo=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},tl=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function rl(e){return typeof e=="object"||typeof e=="function"}function be(e,t){if(e!==void 0&&!rl(e))throw new TypeError(`${t} is not an object.`)}function ie(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function nl(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ho(e,t){if(!nl(e))throw new TypeError(`${t} is not an object.`)}function ye(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function Kr(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function Zr(e){return Number(e)}function mo(e){return e===0?0:e}function ol(e){return mo(tl(e))}function po(e,t){let l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=mo(c),!fo(c))throw new TypeError(`${t} is not a finite number`);if(c=ol(c),c<0||c>l)throw new TypeError(`${t} is outside the accepted range of ${0} to ${l}, inclusive`);return!fo(c)||c===0?0:c}function Jr(e,t){if(!Ae(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ge(e){return new pt(e)}function bo(e,t){e._reader._readRequests.push(t)}function en(e,t,i){let c=e._reader._readRequests.shift();i?c._closeSteps():c._chunkSteps(t)}function Ht(e){return e._reader._readRequests.length}function yo(e){let t=e._reader;return!(t===void 0||!Te(t))}class pt{constructor(t){if(ye(t,1,"ReadableStreamDefaultReader"),Jr(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ao(this,t),this._readRequests=new X}get closed(){return Te(this)?this._closedPromise:g(Gt("closed"))}cancel(t=void 0){return Te(this)?this._ownerReadableStream===void 0?g(He("cancel")):Gr(this,t):g(Gt("cancel"))}read(){if(!Te(this))return g(Gt("read"));if(this._ownerReadableStream===void 0)return g(He("read from"));let t,i,l=T((d,h)=>{t=d,i=h});return bt(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>i(d)}),l}releaseLock(){if(!Te(this))throw Gt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(pt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Te(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof pt}function bt(e,t){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[Xr](t)}function Gt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let go=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class So{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?F(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let i=()=>this._returnSteps(t);return this._ongoingPromise?F(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return g(He("iterate"));let i,l,c=T((h,_)=>{i=h,l=_});return bt(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,I(()=>i({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),i({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),l(h)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let i=this._reader;if(i._ownerReadableStream===void 0)return g(He("finish iterating"));if(!this._preventCancel){let l=Gr(i,t);return pe(i),F(l,()=>({value:t,done:!0}))}return pe(i),S({value:t,done:!0})}}let _o={next(){return wo(this)?this._asyncIteratorImpl.next():g(Ro("next"))},return(e){return wo(this)?this._asyncIteratorImpl.return(e):g(Ro("return"))}};go!==void 0&&Object.setPrototypeOf(_o,go);function il(e,t){let i=Ge(e),l=new So(i,t),c=Object.create(_o);return c._asyncIteratorImpl=l,c}function wo(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof So}catch{return!1}}function Ro(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let To=Number.isNaN||function(e){return e!==e};function yt(e){return e.slice()}function Eo(e,t,i,l,c){new Uint8Array(e).set(new Uint8Array(i,l,c),t)}function Kf(e){return e}function Vt(e){return!1}function Co(e,t,i){if(e.slice)return e.slice(t,i);let l=i-t,c=new ArrayBuffer(l);return Eo(c,0,e,t,l),c}function al(e){return!(typeof e!="number"||To(e)||e<0)}function Po(e){let t=Co(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function tn(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function rn(e,t,i){if(!al(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function sl(e){return e._queue.peek().value}function Ee(e){e._queue=new X,e._queueTotalSize=0}class gt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!nn(this))throw ln("view");return this._view}respond(t){if(!nn(this))throw ln("respond");if(ye(t,1,"respond"),t=po(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(this._view.buffer),Zt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!nn(this))throw ln("respondWithNewView");if(ye(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(t.buffer),Jt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(gt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(gt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ve{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!xe(this))throw _t("byobRequest");return sn(this)}get desiredSize(){if(!xe(this))throw _t("desiredSize");return qo(this)}close(){if(!xe(this))throw _t("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);St(this)}enqueue(t){if(!xe(this))throw _t("enqueue");if(ye(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);Kt(this,t)}error(t=void 0){if(!xe(this))throw _t("error");ae(this,t)}[Qr](t){Ao(this),Ee(this);let i=this._cancelAlgorithm(t);return Xt(this),i}[Xr](t){let i=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,Oo(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(h){t._errorSteps(h);return}let d={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}bo(i,t),qe(this)}}Object.defineProperties(Ve.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ve.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function xe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Ve}function nn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof gt}function qe(e){if(!fl(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,qe(e))},l=>{ae(e,l)})}function Ao(e){an(e),e._pendingPullIntos=new X}function on(e,t){let i=!1;e._state==="closed"&&(i=!0);let l=vo(t);t.readerType==="default"?en(e,l,i):ml(e,l,i)}function vo(e){let t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function Yt(e,t,i,l){e._queue.push({buffer:t,byteOffset:i,byteLength:l}),e._queueTotalSize+=l}function Bo(e,t){let i=t.elementSize,l=t.bytesFilled-t.bytesFilled%i,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,h=d-d%i,_=c,E=!1;h>l&&(_=h-t.bytesFilled,E=!0);let O=e._queue;for(;_>0;){let x=O.peek(),q=Math.min(_,x.byteLength),j=t.byteOffset+t.bytesFilled;Eo(t.buffer,j,x.buffer,x.byteOffset,q),x.byteLength===q?O.shift():(x.byteOffset+=q,x.byteLength-=q),e._queueTotalSize-=q,Io(e,q,t),_-=q}return E}function Io(e,t,i){i.bytesFilled+=t}function Oo(e){e._queueTotalSize===0&&e._closeRequested?(Xt(e),vt(e._controlledReadableByteStream)):qe(e)}function an(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function ko(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Bo(e,t)&&(Qt(e),on(e._controlledReadableByteStream,t))}}function ll(e,t,i){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,h=t.buffer,_={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(_),Wo(l,i);return}if(l._state==="closed"){let E=new d(_.buffer,_.byteOffset,0);i._closeSteps(E);return}if(e._queueTotalSize>0){if(Bo(e,_)){let E=vo(_);Oo(e),i._chunkSteps(E);return}if(e._closeRequested){let E=new TypeError("Insufficient bytes to fill elements in the given buffer");ae(e,E),i._errorSteps(E);return}}e._pendingPullIntos.push(_),Wo(l,i),qe(e)}function ul(e,t){let i=e._controlledReadableByteStream;if(un(i))for(;Lo(i)>0;){let l=Qt(e);on(i,l)}}function cl(e,t,i){if(Io(e,t,i),i.bytesFilled<i.elementSize)return;Qt(e);let l=i.bytesFilled%i.elementSize;if(l>0){let c=i.byteOffset+i.bytesFilled,d=Co(i.buffer,c-l,c);Yt(e,d,0,d.byteLength)}i.bytesFilled-=l,on(e._controlledReadableByteStream,i),ko(e)}function xo(e,t){let i=e._pendingPullIntos.peek();an(e),e._controlledReadableByteStream._state==="closed"?ul(e):cl(e,t,i),qe(e)}function Qt(e){return e._pendingPullIntos.shift()}function fl(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(yo(t)&&Ht(t)>0||un(t)&&Lo(t)>0||qo(e)>0)}function Xt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function St(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ae(e,l),l}Xt(e),vt(t)}}function Kt(e,t){let i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;let l=t.buffer,c=t.byteOffset,d=t.byteLength,h=l;if(e._pendingPullIntos.length>0){let _=e._pendingPullIntos.peek();Vt(_.buffer),_.buffer=_.buffer}if(an(e),yo(i))if(Ht(i)===0)Yt(e,h,c,d);else{e._pendingPullIntos.length>0&&Qt(e);let _=new Uint8Array(h,c,d);en(i,_,!1)}else un(i)?(Yt(e,h,c,d),ko(e)):Yt(e,h,c,d);qe(e)}function ae(e,t){let i=e._controlledReadableByteStream;i._state==="readable"&&(Ao(e),Ee(e),Xt(e),li(i,t))}function sn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(gt.prototype);hl(l,e,i),e._byobRequest=l}return e._byobRequest}function qo(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Zt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=i.buffer,xo(e,t)}function Jt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;i.buffer=t.buffer,xo(e,c)}function Fo(e,t,i,l,c,d,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ee(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=h,t._pendingPullIntos=new X,e._readableStreamController=t;let _=i();C(S(_),()=>{t._started=!0,qe(t)},E=>{ae(t,E)})}function dl(e,t,i){let l=Object.create(Ve.prototype),c=()=>{},d=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(d=()=>t.pull(l)),t.cancel!==void 0&&(h=E=>t.cancel(E));let _=t.autoAllocateChunkSize;if(_===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Fo(e,l,c,d,h,i,_)}function hl(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function ln(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function _t(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Do(e){return new wt(e)}function Wo(e,t){e._reader._readIntoRequests.push(t)}function ml(e,t,i){let c=e._reader._readIntoRequests.shift();i?c._closeSteps(t):c._chunkSteps(t)}function Lo(e){return e._reader._readIntoRequests.length}function un(e){let t=e._reader;return!(t===void 0||!Fe(t))}class wt{constructor(t){if(ye(t,1,"ReadableStreamBYOBReader"),Jr(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!xe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ao(this,t),this._readIntoRequests=new X}get closed(){return Fe(this)?this._closedPromise:g(er("closed"))}cancel(t=void 0){return Fe(this)?this._ownerReadableStream===void 0?g(He("cancel")):Gr(this,t):g(er("cancel"))}read(t){if(!Fe(this))return g(er("read"));if(!ArrayBuffer.isView(t))return g(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Vt(t.buffer),this._ownerReadableStream===void 0)return g(He("read from"));let i,l,c=T((h,_)=>{i=h,l=_});return zo(this,t,{_chunkSteps:h=>i({value:h,done:!1}),_closeSteps:h=>i({value:h,done:!0}),_errorSteps:h=>l(h)}),c}releaseLock(){if(!Fe(this))throw er("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(wt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Fe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof wt}function zo(e,t,i){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?i._errorSteps(l._storedError):ll(l._readableStreamController,t,i)}function er(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Rt(e,t){let{highWaterMark:i}=e;if(i===void 0)return t;if(To(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function tr(e){let{size:t}=e;return t||(()=>1)}function rr(e,t){be(e,t);let i=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:i===void 0?void 0:Zr(i),size:l===void 0?void 0:pl(l,`${t} has member 'size' that`)}}function pl(e,t){return ie(e,t),i=>Zr(e(i))}function bl(e,t){be(e,t);let i=e==null?void 0:e.abort,l=e==null?void 0:e.close,c=e==null?void 0:e.start,d=e==null?void 0:e.type,h=e==null?void 0:e.write;return{abort:i===void 0?void 0:yl(i,e,`${t} has member 'abort' that`),close:l===void 0?void 0:gl(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:Sl(c,e,`${t} has member 'start' that`),write:h===void 0?void 0:_l(h,e,`${t} has member 'write' that`),type:d}}function yl(e,t,i){return ie(e,i),l=>k(e,t,[l])}function gl(e,t,i){return ie(e,i),()=>k(e,t,[])}function Sl(e,t,i){return ie(e,i),l=>z(e,t,[l])}function _l(e,t,i){return ie(e,i),(l,c)=>k(e,t,[l,c])}function $o(e,t){if(!Ye(e))throw new TypeError(`${t} is not a WritableStream.`)}function wl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Rl=typeof AbortController=="function";function Tl(){if(Rl)return new AbortController}class Tt{constructor(t={},i={}){t===void 0?t=null:ho(t,"First parameter");let l=rr(i,"Second parameter"),c=bl(t,"First parameter");if(jo(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let h=tr(l),_=Rt(l,1);Wl(this,c,_,h)}get locked(){if(!Ye(this))throw sr("locked");return Qe(this)}abort(t=void 0){return Ye(this)?Qe(this)?g(new TypeError("Cannot abort a stream that already has a writer")):nr(this,t):g(sr("abort"))}close(){return Ye(this)?Qe(this)?g(new TypeError("Cannot close a stream that already has a writer")):de(this)?g(new TypeError("Cannot close an already-closing stream")):No(this):g(sr("close"))}getWriter(){if(!Ye(this))throw sr("getWriter");return Mo(this)}}Object.defineProperties(Tt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Tt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Mo(e){return new Et(e)}function El(e,t,i,l,c=1,d=()=>1){let h=Object.create(Tt.prototype);jo(h);let _=Object.create(Xe.prototype);return Qo(h,_,e,t,i,l,c,d),h}function jo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new X,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ye(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Tt}function Qe(e){return e._writer!==void 0}function nr(e,t){var i;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();let l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let d=T((h,_)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:_,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||fn(e,t),d}function No(e){let t=e._state;if(t==="closed"||t==="errored")return g(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let i=T((c,d)=>{let h={_resolve:c,_reject:d};e._closeRequest=h}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&_n(l),Ll(e._writableStreamController),i}function Cl(e){return T((i,l)=>{let c={_resolve:i,_reject:l};e._writeRequests.push(c)})}function cn(e,t){if(e._state==="writable"){fn(e,t);return}dn(e)}function fn(e,t){let i=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Ho(l,t),!Il(e)&&i._started&&dn(e)}function dn(e){e._state="errored",e._writableStreamController[co]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new X,e._pendingAbortRequest===void 0){or(e);return}let i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),or(e);return}let l=e._writableStreamController[uo](i._reason);C(l,()=>{i._resolve(),or(e)},c=>{i._reject(c),or(e)})}function Pl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Al(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,cn(e,t)}function vl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let i=e._writer;i!==void 0&&Jo(i)}function Bl(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),cn(e,t)}function de(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Il(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ol(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function kl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function or(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&gn(t,e._storedError)}function hn(e,t){let i=e._writer;i!==void 0&&t!==e._backpressure&&(t?Hl(i):_n(i)),e._backpressure=t}class Et{constructor(t){if(ye(t,1,"WritableStreamDefaultWriter"),$o(t,"First parameter"),Qe(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let i=t._state;if(i==="writable")!de(t)&&t._backpressure?ur(this):ei(this),lr(this);else if(i==="erroring")Sn(this,t._storedError),lr(this);else if(i==="closed")ei(this),Nl(this);else{let l=t._storedError;Sn(this,l),Zo(this,l)}}get closed(){return De(this)?this._closedPromise:g(We("closed"))}get desiredSize(){if(!De(this))throw We("desiredSize");if(this._ownerWritableStream===void 0)throw Ct("desiredSize");return Dl(this)}get ready(){return De(this)?this._readyPromise:g(We("ready"))}abort(t=void 0){return De(this)?this._ownerWritableStream===void 0?g(Ct("abort")):xl(this,t):g(We("abort"))}close(){if(!De(this))return g(We("close"));let t=this._ownerWritableStream;return t===void 0?g(Ct("close")):de(t)?g(new TypeError("Cannot close an already-closing stream")):Uo(this)}releaseLock(){if(!De(this))throw We("releaseLock");this._ownerWritableStream!==void 0&&Go(this)}write(t=void 0){return De(this)?this._ownerWritableStream===void 0?g(Ct("write to")):Vo(this,t):g(We("write"))}}Object.defineProperties(Et.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function De(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Et}function xl(e,t){let i=e._ownerWritableStream;return nr(i,t)}function Uo(e){let t=e._ownerWritableStream;return No(t)}function ql(e){let t=e._ownerWritableStream,i=t._state;return de(t)||i==="closed"?S(void 0):i==="errored"?g(t._storedError):Uo(e)}function Fl(e,t){e._closedPromiseState==="pending"?gn(e,t):Ul(e,t)}function Ho(e,t){e._readyPromiseState==="pending"?ti(e,t):Gl(e,t)}function Dl(e){let t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:Xo(t._writableStreamController)}function Go(e){let t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ho(e,i),Fl(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function Vo(e,t){let i=e._ownerWritableStream,l=i._writableStreamController,c=zl(l,t);if(i!==e._ownerWritableStream)return g(Ct("write to"));let d=i._state;if(d==="errored")return g(i._storedError);if(de(i)||d==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return g(i._storedError);let h=Cl(i);return $l(l,t,c),h}let Yo={};class Xe{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!mn(this))throw yn("abortReason");return this._abortReason}get signal(){if(!mn(this))throw yn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!mn(this))throw yn("error");this._controlledWritableStream._state==="writable"&&Ko(this,t)}[uo](t){let i=this._abortAlgorithm(t);return ir(this),i}[co](){Ee(this)}}Object.defineProperties(Xe.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Xe.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function mn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Xe}function Qo(e,t,i,l,c,d,h,_){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._abortReason=void 0,t._abortController=Tl(),t._started=!1,t._strategySizeAlgorithm=_,t._strategyHWM=h,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=d;let E=bn(t);hn(e,E);let O=i(),x=S(O);C(x,()=>{t._started=!0,ar(t)},q=>{t._started=!0,cn(e,q)})}function Wl(e,t,i,l){let c=Object.create(Xe.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0),E=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(h=O=>t.write(O,c)),t.close!==void 0&&(_=()=>t.close()),t.abort!==void 0&&(E=O=>t.abort(O)),Qo(e,c,d,h,_,E,i,l)}function ir(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ll(e){rn(e,Yo,0),ar(e)}function zl(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return pn(e,i),1}}function Xo(e){return e._strategyHWM-e._queueTotalSize}function $l(e,t,i){try{rn(e,t,i)}catch(c){pn(e,c);return}let l=e._controlledWritableStream;if(!de(l)&&l._state==="writable"){let c=bn(e);hn(l,c)}ar(e)}function ar(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){dn(t);return}if(e._queue.length===0)return;let l=sl(e);l===Yo?Ml(e):jl(e,l)}function pn(e,t){e._controlledWritableStream._state==="writable"&&Ko(e,t)}function Ml(e){let t=e._controlledWritableStream;Ol(t),tn(e);let i=e._closeAlgorithm();ir(e),C(i,()=>{vl(t)},l=>{Bl(t,l)})}function jl(e,t){let i=e._controlledWritableStream;kl(i);let l=e._writeAlgorithm(t);C(l,()=>{Pl(i);let c=i._state;if(tn(e),!de(i)&&c==="writable"){let d=bn(e);hn(i,d)}ar(e)},c=>{i._state==="writable"&&ir(e),Al(i,c)})}function bn(e){return Xo(e)<=0}function Ko(e,t){let i=e._controlledWritableStream;ir(e),fn(i,t)}function sr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function yn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function We(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ct(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function lr(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function Zo(e,t){lr(e),gn(e,t)}function Nl(e){lr(e),Jo(e)}function gn(e,t){e._closedPromise_reject!==void 0&&(H(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ul(e,t){Zo(e,t)}function Jo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ur(e){e._readyPromise=T((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function Sn(e,t){ur(e),ti(e,t)}function ei(e){ur(e),_n(e)}function ti(e,t){e._readyPromise_reject!==void 0&&(H(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Hl(e){ur(e)}function Gl(e,t){Sn(e,t)}function _n(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let ri=typeof DOMException<"u"?DOMException:void 0;function Vl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Yl(){let e=function(i,l){this.message=i||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Ql=Vl(ri)?ri:Yl();function ni(e,t,i,l,c,d){let h=Ge(e),_=Mo(t);e._disturbed=!0;let E=!1,O=S(void 0);return T((x,q)=>{let j;if(d!==void 0){if(j=()=>{let w=new Ql("Aborted","AbortError"),B=[];l||B.push(()=>t._state==="writable"?nr(t,w):S(void 0)),c||B.push(()=>e._state==="readable"?se(e,w):S(void 0)),Y(()=>Promise.all(B.map(D=>D())),!0,w)},d.aborted){j();return}d.addEventListener("abort",j)}function le(){return T((w,B)=>{function D(K){K?w():y(Je(),D,B)}D(!1)})}function Je(){return E?S(!0):y(_._readyPromise,()=>T((w,B)=>{bt(h,{_chunkSteps:D=>{O=y(Vo(_,D),void 0,o),w(!1)},_closeSteps:()=>w(!0),_errorSteps:B})}))}if(ge(e,h._closedPromise,w=>{l?re(!0,w):Y(()=>nr(t,w),!0,w)}),ge(t,_._closedPromise,w=>{c?re(!0,w):Y(()=>se(e,w),!0,w)}),G(e,h._closedPromise,()=>{i?re():Y(()=>ql(_))}),de(t)||t._state==="closed"){let w=new TypeError("the destination writable stream closed before all data could be piped to it");c?re(!0,w):Y(()=>se(e,w),!0,w)}H(le());function Be(){let w=O;return y(O,()=>w!==O?Be():void 0)}function ge(w,B,D){w._state==="errored"?D(w._storedError):v(B,D)}function G(w,B,D){w._state==="closed"?D():P(B,D)}function Y(w,B,D){if(E)return;E=!0,t._state==="writable"&&!de(t)?P(Be(),K):K();function K(){C(w(),()=>Se(B,D),et=>Se(!0,et))}}function re(w,B){E||(E=!0,t._state==="writable"&&!de(t)?P(Be(),()=>Se(w,B)):Se(w,B))}function Se(w,B){Go(_),pe(h),d!==void 0&&d.removeEventListener("abort",j),w?q(B):x(void 0)}})}class Ke{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!cr(this))throw hr("desiredSize");return wn(this)}close(){if(!cr(this))throw hr("close");if(!Ze(this))throw new TypeError("The stream is not in a state that permits close");At(this)}enqueue(t=void 0){if(!cr(this))throw hr("enqueue");if(!Ze(this))throw new TypeError("The stream is not in a state that permits enqueue");return dr(this,t)}error(t=void 0){if(!cr(this))throw hr("error");Ce(this,t)}[Qr](t){Ee(this);let i=this._cancelAlgorithm(t);return fr(this),i}[Xr](t){let i=this._controlledReadableStream;if(this._queue.length>0){let l=tn(this);this._closeRequested&&this._queue.length===0?(fr(this),vt(i)):Pt(this),t._chunkSteps(l)}else bo(i,t),Pt(this)}}Object.defineProperties(Ke.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ke.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function cr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Ke}function Pt(e){if(!oi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Pt(e))},l=>{Ce(e,l)})}function oi(e){let t=e._controlledReadableStream;return!Ze(e)||!e._started?!1:!!(ve(t)&&Ht(t)>0||wn(e)>0)}function fr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function At(e){if(!Ze(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(fr(e),vt(t))}function dr(e,t){if(!Ze(e))return;let i=e._controlledReadableStream;if(ve(i)&&Ht(i)>0)en(i,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw Ce(e,c),c}try{rn(e,t,l)}catch(c){throw Ce(e,c),c}}Pt(e)}function Ce(e,t){let i=e._controlledReadableStream;i._state==="readable"&&(Ee(e),fr(e),li(i,t))}function wn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Xl(e){return!oi(e)}function Ze(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function ii(e,t,i,l,c,d,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let _=i();C(S(_),()=>{t._started=!0,Pt(t)},E=>{Ce(t,E)})}function Kl(e,t,i,l){let c=Object.create(Ke.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(h=()=>t.pull(c)),t.cancel!==void 0&&(_=E=>t.cancel(E)),ii(e,c,d,h,_,i,l)}function hr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Zl(e,t){return xe(e._readableStreamController)?eu(e):Jl(e)}function Jl(e,t){let i=Ge(e),l=!1,c=!1,d=!1,h=!1,_,E,O,x,q,j=T(G=>{q=G});function le(){return l?(c=!0,S(void 0)):(l=!0,bt(i,{_chunkSteps:Y=>{I(()=>{c=!1;let re=Y,Se=Y;d||dr(O._readableStreamController,re),h||dr(x._readableStreamController,Se),l=!1,c&&le()})},_closeSteps:()=>{l=!1,d||At(O._readableStreamController),h||At(x._readableStreamController),(!d||!h)&&q(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function Je(G){if(d=!0,_=G,h){let Y=yt([_,E]),re=se(e,Y);q(re)}return j}function Be(G){if(h=!0,E=G,d){let Y=yt([_,E]),re=se(e,Y);q(re)}return j}function ge(){}return O=Rn(ge,le,Je),x=Rn(ge,le,Be),v(i._closedPromise,G=>{Ce(O._readableStreamController,G),Ce(x._readableStreamController,G),(!d||!h)&&q(void 0)}),[O,x]}function eu(e){let t=Ge(e),i=!1,l=!1,c=!1,d=!1,h=!1,_,E,O,x,q,j=T(w=>{q=w});function le(w){v(w._closedPromise,B=>{w===t&&(ae(O._readableStreamController,B),ae(x._readableStreamController,B),(!d||!h)&&q(void 0))})}function Je(){Fe(t)&&(pe(t),t=Ge(e),le(t)),bt(t,{_chunkSteps:B=>{I(()=>{l=!1,c=!1;let D=B,K=B;if(!d&&!h)try{K=Po(B)}catch(et){ae(O._readableStreamController,et),ae(x._readableStreamController,et),q(se(e,et));return}d||Kt(O._readableStreamController,D),h||Kt(x._readableStreamController,K),i=!1,l?ge():c&&G()})},_closeSteps:()=>{i=!1,d||St(O._readableStreamController),h||St(x._readableStreamController),O._readableStreamController._pendingPullIntos.length>0&&Zt(O._readableStreamController,0),x._readableStreamController._pendingPullIntos.length>0&&Zt(x._readableStreamController,0),(!d||!h)&&q(void 0)},_errorSteps:()=>{i=!1}})}function Be(w,B){Te(t)&&(pe(t),t=Do(e),le(t));let D=B?x:O,K=B?O:x;zo(t,w,{_chunkSteps:tt=>{I(()=>{l=!1,c=!1;let rt=B?h:d;if(B?d:h)rt||Jt(D._readableStreamController,tt);else{let wi;try{wi=Po(tt)}catch(En){ae(D._readableStreamController,En),ae(K._readableStreamController,En),q(se(e,En));return}rt||Jt(D._readableStreamController,tt),Kt(K._readableStreamController,wi)}i=!1,l?ge():c&&G()})},_closeSteps:tt=>{i=!1;let rt=B?h:d,Rr=B?d:h;rt||St(D._readableStreamController),Rr||St(K._readableStreamController),tt!==void 0&&(rt||Jt(D._readableStreamController,tt),!Rr&&K._readableStreamController._pendingPullIntos.length>0&&Zt(K._readableStreamController,0)),(!rt||!Rr)&&q(void 0)},_errorSteps:()=>{i=!1}})}function ge(){if(i)return l=!0,S(void 0);i=!0;let w=sn(O._readableStreamController);return w===null?Je():Be(w._view,!1),S(void 0)}function G(){if(i)return c=!0,S(void 0);i=!0;let w=sn(x._readableStreamController);return w===null?Je():Be(w._view,!0),S(void 0)}function Y(w){if(d=!0,_=w,h){let B=yt([_,E]),D=se(e,B);q(D)}return j}function re(w){if(h=!0,E=w,d){let B=yt([_,E]),D=se(e,B);q(D)}return j}function Se(){}return O=si(Se,ge,Y),x=si(Se,G,re),le(t),[O,x]}function tu(e,t){be(e,t);let i=e,l=i==null?void 0:i.autoAllocateChunkSize,c=i==null?void 0:i.cancel,d=i==null?void 0:i.pull,h=i==null?void 0:i.start,_=i==null?void 0:i.type;return{autoAllocateChunkSize:l===void 0?void 0:po(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:ru(c,i,`${t} has member 'cancel' that`),pull:d===void 0?void 0:nu(d,i,`${t} has member 'pull' that`),start:h===void 0?void 0:ou(h,i,`${t} has member 'start' that`),type:_===void 0?void 0:iu(_,`${t} has member 'type' that`)}}function ru(e,t,i){return ie(e,i),l=>k(e,t,[l])}function nu(e,t,i){return ie(e,i),l=>k(e,t,[l])}function ou(e,t,i){return ie(e,i),l=>z(e,t,[l])}function iu(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function au(e,t){be(e,t);let i=e==null?void 0:e.mode;return{mode:i===void 0?void 0:su(i,`${t} has member 'mode' that`)}}function su(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function lu(e,t){be(e,t);let i=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(i)}}function ai(e,t){be(e,t);let i=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,c=e==null?void 0:e.preventClose,d=e==null?void 0:e.signal;return d!==void 0&&uu(d,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(l),preventClose:Boolean(c),signal:d}}function uu(e,t){if(!wl(e))throw new TypeError(`${t} is not an AbortSignal.`)}function cu(e,t){be(e,t);let i=e==null?void 0:e.readable;Kr(i,"readable","ReadableWritablePair"),Jr(i,`${t} has member 'readable' that`);let l=e==null?void 0:e.writable;return Kr(l,"writable","ReadableWritablePair"),$o(l,`${t} has member 'writable' that`),{readable:i,writable:l}}class Pe{constructor(t={},i={}){t===void 0?t=null:ho(t,"First parameter");let l=rr(i,"Second parameter"),c=tu(t,"First parameter");if(Tn(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Rt(l,0);dl(this,c,d)}else{let d=tr(l),h=Rt(l,1);Kl(this,c,h,d)}}get locked(){if(!Ae(this))throw Le("locked");return ve(this)}cancel(t=void 0){return Ae(this)?ve(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):se(this,t):g(Le("cancel"))}getReader(t=void 0){if(!Ae(this))throw Le("getReader");return au(t,"First parameter").mode===void 0?Ge(this):Do(this)}pipeThrough(t,i={}){if(!Ae(this))throw Le("pipeThrough");ye(t,1,"pipeThrough");let l=cu(t,"First parameter"),c=ai(i,"Second parameter");if(ve(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Qe(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=ni(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return H(d),l.readable}pipeTo(t,i={}){if(!Ae(this))return g(Le("pipeTo"));if(t===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!Ye(t))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=ai(i,"Second parameter")}catch(c){return g(c)}return ve(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Qe(t)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ni(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Ae(this))throw Le("tee");let t=Zl(this);return yt(t)}values(t=void 0){if(!Ae(this))throw Le("values");let i=lu(t,"First parameter");return il(this,i.preventCancel)}}Object.defineProperties(Pe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pe.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Pe.prototype,r.asyncIterator,{value:Pe.prototype.values,writable:!0,configurable:!0});function Rn(e,t,i,l=1,c=()=>1){let d=Object.create(Pe.prototype);Tn(d);let h=Object.create(Ke.prototype);return ii(d,h,e,t,i,l,c),d}function si(e,t,i){let l=Object.create(Pe.prototype);Tn(l);let c=Object.create(Ve.prototype);return Fo(l,c,e,t,i,0,void 0),l}function Tn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ae(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Pe}function ve(e){return e._reader!==void 0}function se(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return g(e._storedError);vt(e);let i=e._reader;i!==void 0&&Fe(i)&&(i._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),i._readIntoRequests=new X);let l=e._readableStreamController[Qr](t);return F(l,o)}function vt(e){e._state="closed";let t=e._reader;t!==void 0&&(lo(t),Te(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new X))}function li(e,t){e._state="errored",e._storedError=t;let i=e._reader;i!==void 0&&(Yr(i,t),Te(i)?(i._readRequests.forEach(l=>{l._errorSteps(t)}),i._readRequests=new X):(i._readIntoRequests.forEach(l=>{l._errorSteps(t)}),i._readIntoRequests=new X))}function Le(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function ui(e,t){be(e,t);let i=e==null?void 0:e.highWaterMark;return Kr(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Zr(i)}}let ci=e=>e.byteLength;try{Object.defineProperty(ci,"name",{value:"size",configurable:!0})}catch{}class mr{constructor(t){ye(t,1,"ByteLengthQueuingStrategy"),t=ui(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!di(this))throw fi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!di(this))throw fi("size");return ci}}Object.defineProperties(mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function fi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function di(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof mr}let hi=()=>1;try{Object.defineProperty(hi,"name",{value:"size",configurable:!0})}catch{}class pr{constructor(t){ye(t,1,"CountQueuingStrategy"),t=ui(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!pi(this))throw mi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!pi(this))throw mi("size");return hi}}Object.defineProperties(pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function mi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function pi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof pr}function fu(e,t){be(e,t);let i=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,c=e==null?void 0:e.start,d=e==null?void 0:e.transform,h=e==null?void 0:e.writableType;return{flush:i===void 0?void 0:du(i,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:hu(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:mu(d,e,`${t} has member 'transform' that`),writableType:h}}function du(e,t,i){return ie(e,i),l=>k(e,t,[l])}function hu(e,t,i){return ie(e,i),l=>z(e,t,[l])}function mu(e,t,i){return ie(e,i),(l,c)=>k(e,t,[l,c])}class br{constructor(t={},i={},l={}){t===void 0&&(t=null);let c=rr(i,"Second parameter"),d=rr(l,"Third parameter"),h=fu(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let _=Rt(d,0),E=tr(d),O=Rt(c,1),x=tr(c),q,j=T(le=>{q=le});pu(this,j,O,x,_,E),yu(this,h),h.start!==void 0?q(h.start(this._transformStreamController)):q(void 0)}get readable(){if(!bi(this))throw _i("readable");return this._readable}get writable(){if(!bi(this))throw _i("writable");return this._writable}}Object.defineProperties(br.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(br.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function pu(e,t,i,l,c,d){function h(){return t}function _(j){return _u(e,j)}function E(j){return wu(e,j)}function O(){return Ru(e)}e._writable=El(h,_,O,E,i,l);function x(){return Tu(e)}function q(j){return gr(e,j),S(void 0)}e._readable=Rn(h,x,q,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Sr(e,!0),e._transformStreamController=void 0}function bi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof br}function yr(e,t){Ce(e._readable._readableStreamController,t),gr(e,t)}function gr(e,t){yi(e._transformStreamController),pn(e._writable._writableStreamController,t),e._backpressure&&Sr(e,!1)}function Sr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!_r(this))throw wr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return wn(t)}enqueue(t=void 0){if(!_r(this))throw wr("enqueue");gi(this,t)}error(t=void 0){if(!_r(this))throw wr("error");gu(this,t)}terminate(){if(!_r(this))throw wr("terminate");Su(this)}}Object.defineProperties(Bt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function _r(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Bt}function bu(e,t,i,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=l}function yu(e,t){let i=Object.create(Bt.prototype),l=d=>{try{return gi(i,d),S(void 0)}catch(h){return g(h)}},c=()=>S(void 0);t.transform!==void 0&&(l=d=>t.transform(d,i)),t.flush!==void 0&&(c=()=>t.flush(i)),bu(e,i,l,c)}function yi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function gi(e,t){let i=e._controlledTransformStream,l=i._readable._readableStreamController;if(!Ze(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{dr(l,t)}catch(d){throw gr(i,d),i._readable._storedError}Xl(l)!==i._backpressure&&Sr(i,!0)}function gu(e,t){yr(e._controlledTransformStream,t)}function Si(e,t){let i=e._transformAlgorithm(t);return F(i,void 0,l=>{throw yr(e._controlledTransformStream,l),l})}function Su(e){let t=e._controlledTransformStream,i=t._readable._readableStreamController;At(i);let l=new TypeError("TransformStream terminated");gr(t,l)}function _u(e,t){let i=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return F(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return Si(i,t)})}return Si(i,t)}function wu(e,t){return yr(e,t),S(void 0)}function Ru(e){let t=e._readable,i=e._transformStreamController,l=i._flushAlgorithm();return yi(i),F(l,()=>{if(t._state==="errored")throw t._storedError;At(t._readableStreamController)},c=>{throw yr(e,c),t._storedError})}function Tu(e){return Sr(e,!1),e._backpressureChangePromise}function wr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function _i(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=mr,n.CountQueuingStrategy=pr,n.ReadableByteStreamController=Ve,n.ReadableStream=Pe,n.ReadableStreamBYOBReader=wt,n.ReadableStreamBYOBRequest=gt,n.ReadableStreamDefaultController=Ke,n.ReadableStreamDefaultReader=pt,n.TransformStream=br,n.TransformStreamDefaultController=Bt,n.WritableStream=Tt,n.WritableStreamDefaultController=Xe,n.WritableStreamDefaultWriter=Et,Object.defineProperty(n,"__esModule",{value:!0})})});var Ss=A(()=>{if(!globalThis.ReadableStream)try{let n=require("node:process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,gs())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let a=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let m=await s.slice(a,Math.min(s.size,a+65536)).arrayBuffer();a+=m.byteLength,u.enqueue(new Uint8Array(m)),a===s.size&&u.close()}})})}catch{}});async function*Yn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let a=o.byteOffset,s=o.byteOffset+o.byteLength;for(;a!==s;){let u=Math.min(s-a,_s),f=o.buffer.slice(a,a+u);a+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let a=0,s=o;for(;a!==s.size;){let f=await s.slice(a,Math.min(s.size,a+_s)).arrayBuffer();a+=f.byteLength,yield new Uint8Array(f)}}}var Nd,_s,ws,vf,_e,Wt=Ot(()=>{Nd=ce(Ss(),1);_s=65536;ws=class Qn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let a=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof Qn?f=u:f=a.encode(`${u}`),this.#r+=ArrayBuffer.isView(f)?f.byteLength:f.size,this.#e.push(f)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let a of Yn(this.#e,!1))o+=r.decode(a,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let a of Yn(this.#e,!1))r.set(a,o),o+=a.length;return r.buffer}stream(){let r=Yn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let a=await r.next();a.done?o.close():o.enqueue(a.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,a=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),f=o<0?Math.max(s+o,0):Math.min(o,s),m=Math.max(f-u,0),b=this.#e,p=[],R=0;for(let S of b){if(R>=m)break;let g=ArrayBuffer.isView(S)?S.byteLength:S.size;if(u&&g<=u)u-=g,f-=g;else{let y;ArrayBuffer.isView(S)?(y=S.subarray(u,Math.min(g,f)),R+=y.byteLength):(y=S.slice(u,Math.min(g,f)),R+=y.size),f-=g,p.push(y),u=0}}let T=new Qn([],{type:String(a).toLowerCase()});return T.#r=m,T.#e=p,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(ws.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});vf=ws,_e=vf});var Bf,If,ft,Xn=Ot(()=>{Wt();Bf=class extends _e{#e=0;#t="";constructor(r,o,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,a);a===null&&(a={});let s=a.lastModified===void 0?Date.now():Number(a.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof _e&&/^(File)$/.test(r[Symbol.toStringTag])}},If=Bf,ft=If});function Es(n,r=_e){var o=`${Rs()}${Rs()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),a=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((u,f)=>typeof u=="string"?a.push(s+Kn(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):a.push(s+Kn(f)+`"; filename="${Kn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),a.push(`--${o}--`),new r(a,{type:"multipart/form-data; boundary="+o})}var Lt,Of,kf,Rs,xf,Ts,Kn,Me,je,Lr=Ot(()=>{Wt();Xn();({toStringTag:Lt,iterator:Of,hasInstance:kf}=Symbol),Rs=Math.random,xf="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ts=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[Lt])?[(o=o!==void 0?o+"":r[Lt]=="File"?r.name:"blob",n),r.name!==o||r[Lt]=="blob"?new ft([r],o,r):r]:[n,r+""]),Kn=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Me=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},je=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Lt](){return"FormData"}[Of](){return this.entries()}static[kf](r){return r&&typeof r=="object"&&r[Lt]==="FormData"&&!xf.some(o=>typeof r[o]!="function")}append(...r){Me("append",arguments,2),this.#e.push(Ts(...r))}delete(r){Me("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){Me("get",arguments,1),r+="";for(var o=this.#e,a=o.length,s=0;s<a;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return Me("getAll",arguments,1),o=[],r+="",this.#e.forEach(a=>a[0]===r&&o.push(a[1])),o}has(r){return Me("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){Me("forEach",arguments,1);for(var[a,s]of this)r.call(o,s,a,this)}set(...r){Me("set",arguments,2);var o=[],a=!0;r=Ts(...r),this.#e.forEach(s=>{s[0]===r[0]?a&&(a=!o.push(r)):o.push(s)}),a&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Bs=A((rh,vs)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}vs.exports=globalThis.DOMException});var $t,Is,qf,Jn,eo=Ot(()=>{$t=require("node:fs"),Is=ce(Bs(),1);Xn();Wt();({stat:qf}=$t.promises),Jn=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new Jn({path:this.#e,lastModified:this.lastModified,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await qf(this.#e);if(r>this.lastModified)throw new Is.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,$t.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var xs={};Pn(xs,{toFormData:()=>Mf});function $f(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",a=o.slice(o.lastIndexOf("\\")+1);return a=a.replace(/%22/g,'"'),a=a.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),a}async function Mf(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let a=new ks(o[1]||o[2]),s,u,f,m,b,p,R=[],T=new je,S=v=>{f+=P.decode(v,{stream:!0})},g=v=>{R.push(v)},y=()=>{let v=new ft(R,p,{type:b});T.append(m,v)},C=()=>{T.append(m,f)},P=new TextDecoder("utf-8");P.decode(),a.onPartBegin=function(){a.onPartData=S,a.onPartEnd=C,s="",u="",f="",m="",b="",p=null,R.length=0},a.onHeaderField=function(v){s+=P.decode(v,{stream:!0})},a.onHeaderValue=function(v){u+=P.decode(v,{stream:!0})},a.onHeaderEnd=function(){if(u+=P.decode(),s=s.toLowerCase(),s==="content-disposition"){let v=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(m=v[2]||v[3]||""),p=$f(u),p&&(a.onPartData=g,a.onPartEnd=y)}else s==="content-type"&&(b=u);u="",s=""};for await(let v of n)a.write(v);return a.end(),T}var me,W,Os,Oe,$r,Mr,Ff,Mt,Df,Wf,Lf,zf,Ne,ks,qs=Ot(()=>{eo();Lr();me=0,W={START_BOUNDARY:me++,HEADER_FIELD_START:me++,HEADER_FIELD:me++,HEADER_VALUE_START:me++,HEADER_VALUE:me++,HEADER_VALUE_ALMOST_DONE:me++,HEADERS_ALMOST_DONE:me++,PART_DATA_START:me++,PART_DATA:me++,END:me++},Os=1,Oe={PART_BOUNDARY:Os,LAST_BOUNDARY:Os*=2},$r=10,Mr=13,Ff=32,Mt=45,Df=58,Wf=97,Lf=122,zf=n=>n|32,Ne=()=>{},ks=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Ne,this.onHeaderField=Ne,this.onHeadersEnd=Ne,this.onHeaderValue=Ne,this.onPartBegin=Ne,this.onPartData=Ne,this.onPartEnd=Ne,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a),this.boundaryChars[o[a]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=W.START_BOUNDARY}write(r){let o=0,a=r.length,s=this.index,{lookbehind:u,boundary:f,boundaryChars:m,index:b,state:p,flags:R}=this,T=this.boundary.length,S=T-1,g=r.length,y,C,P=I=>{this[I+"Mark"]=o},v=I=>{delete this[I+"Mark"]},F=(I,z,k,oe)=>{(z===void 0||z!==k)&&this[I](oe&&oe.subarray(z,k))},H=(I,z)=>{let k=I+"Mark";k in this&&(z?(F(I,this[k],o,r),delete this[k]):(F(I,this[k],r.length,r),this[k]=0))};for(o=0;o<a;o++)switch(y=r[o],p){case W.START_BOUNDARY:if(b===f.length-2){if(y===Mt)R|=Oe.LAST_BOUNDARY;else if(y!==Mr)return;b++;break}else if(b-1===f.length-2){if(R&Oe.LAST_BOUNDARY&&y===Mt)p=W.END,R=0;else if(!(R&Oe.LAST_BOUNDARY)&&y===$r)b=0,F("onPartBegin"),p=W.HEADER_FIELD_START;else return;break}y!==f[b+2]&&(b=-2),y===f[b+2]&&b++;break;case W.HEADER_FIELD_START:p=W.HEADER_FIELD,P("onHeaderField"),b=0;case W.HEADER_FIELD:if(y===Mr){v("onHeaderField"),p=W.HEADERS_ALMOST_DONE;break}if(b++,y===Mt)break;if(y===Df){if(b===1)return;H("onHeaderField",!0),p=W.HEADER_VALUE_START;break}if(C=zf(y),C<Wf||C>Lf)return;break;case W.HEADER_VALUE_START:if(y===Ff)break;P("onHeaderValue"),p=W.HEADER_VALUE;case W.HEADER_VALUE:y===Mr&&(H("onHeaderValue",!0),F("onHeaderEnd"),p=W.HEADER_VALUE_ALMOST_DONE);break;case W.HEADER_VALUE_ALMOST_DONE:if(y!==$r)return;p=W.HEADER_FIELD_START;break;case W.HEADERS_ALMOST_DONE:if(y!==$r)return;F("onHeadersEnd"),p=W.PART_DATA_START;break;case W.PART_DATA_START:p=W.PART_DATA,P("onPartData");case W.PART_DATA:if(s=b,b===0){for(o+=S;o<g&&!(r[o]in m);)o+=T;o-=S,y=r[o]}if(b<f.length)f[b]===y?(b===0&&H("onPartData",!0),b++):b=0;else if(b===f.length)b++,y===Mr?R|=Oe.PART_BOUNDARY:y===Mt?R|=Oe.LAST_BOUNDARY:b=0;else if(b-1===f.length)if(R&Oe.PART_BOUNDARY){if(b=0,y===$r){R&=~Oe.PART_BOUNDARY,F("onPartEnd"),F("onPartBegin"),p=W.HEADER_FIELD_START;break}}else R&Oe.LAST_BOUNDARY&&y===Mt?(F("onPartEnd"),p=W.END,R=0):b=0;if(b>0)u[b-1]=y;else if(s>0){let I=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);F("onPartData",0,s,I),s=0,P("onPartData"),o--}break;case W.END:break;default:throw new Error(`Unexpected state entered: ${p}`)}H("onHeaderField"),H("onHeaderValue"),H("onPartData"),this.index=b,this.state=p,this.flags=R}end(){if(this.state===W.HEADER_FIELD_START&&this.index===0||this.state===W.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==W.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Xf={};Pn(Xf,{default:()=>Zs});var L=require("@raycast/api");var Dr={};Pn(Dr,{SelectFile:()=>Cf});var hs=ce(require("react"),1),ms=require("react");var cs=ce(require("node:process"),1),fs=ce(us(),1);async function ds(n){if(cs.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,fs.default)("osascript",["-e",n]);return r}var ps=require("@raycast/api"),Cf=s=>{var u=s,{onSelect:n,prompt:r="Please select a file",type:o}=u,a=Ci(u,["onSelect","prompt","type"]);let f=(0,ms.useCallback)(async()=>{try{let m=await ds(`
        set chosenFile to choose file with prompt "${r}:"${o!=null?`of type {"${o}"}`:""}
        set raycastPath to POSIX path of (path to application "Raycast")
        do shell script "open " & raycastPath
        return POSIX path of chosenFile
      `);n(m||null)}catch{n(null)}},[]);return hs.createElement(ps.Action,ue(M({},a),{onAction:f}))};var Pf=require("@raycast/api"),Vn=require("react");var io=require("react"),mt=require("fs");var Qs=ce(require("node:http"),1),Xs=ce(require("node:https"),1),Ue=ce(require("node:zlib"),1),te=ce(require("node:stream"),1),Ut=require("node:buffer");function Af(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),a="",s=!1,u=o[0]||"text/plain",f=u;for(let R=1;R<o.length;R++)o[R]==="base64"?s=!0:(f+=`;${o[R]}`,o[R].indexOf("charset=")===0&&(a=o[R].substring(8)));!o[0]&&!a.length&&(f+=";charset=US-ASCII",a="US-ASCII");let m=s?"base64":"ascii",b=unescape(n.substring(r+1)),p=Buffer.from(b,m);return p.type=u,p.typeFull=f,p.charset=a,p}var bs=Af;var ne=ce(require("node:stream"),1),Re=require("node:util"),J=require("node:buffer");Wt();Lr();var Ie=class extends Error{constructor(r,o){super(r);Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Z=class extends Ie{constructor(r,o,a){super(r,o);a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};var zr=Symbol.toStringTag,Zn=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[zr]==="URLSearchParams",zt=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[zr]),Cs=n=>typeof n=="object"&&(n[zr]==="AbortSignal"||n[zr]==="EventTarget"),Ps=(n,r)=>{let o=new URL(r).hostname,a=new URL(n).hostname;return o===a||o.endsWith(`.${a}`)},As=(n,r)=>{let o=new URL(r).protocol,a=new URL(n).protocol;return o===a};var jf=(0,Re.promisify)(ne.default.pipeline),Q=Symbol("Body internals"),we=class{constructor(r,{size:o=0}={}){let a=null;r===null?r=null:Zn(r)?r=J.Buffer.from(r.toString()):zt(r)||J.Buffer.isBuffer(r)||(Re.types.isAnyArrayBuffer(r)?r=J.Buffer.from(r):ArrayBuffer.isView(r)?r=J.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ne.default||(r instanceof je?(r=Es(r),a=r.type.split("=")[1]):r=J.Buffer.from(String(r))));let s=r;J.Buffer.isBuffer(r)?s=ne.default.Readable.from(r):zt(r)&&(s=ne.default.Readable.from(r.stream())),this[Q]={body:r,stream:s,boundary:a,disturbed:!1,error:null},this.size=o,r instanceof ne.default&&r.on("error",u=>{let f=u instanceof Ie?u:new Z(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[Q].error=f})}get body(){return this[Q].stream}get bodyUsed(){return this[Q].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:a}=await to(this);return r.slice(o,o+a)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let a=new je,s=new URLSearchParams(await this.text());for(let[u,f]of s)a.append(u,f);return a}let{toFormData:o}=await Promise.resolve().then(()=>(qs(),xs));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[Q].body&&this[Q].body.type||"",o=await this.arrayBuffer();return new _e([o],{type:r})}async json(){let r=await this.text();return JSON.parse(r)}async text(){let r=await to(this);return new TextDecoder().decode(r)}buffer(){return to(this)}};we.prototype.buffer=(0,Re.deprecate)(we.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(we.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Re.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function to(n){if(n[Q].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[Q].disturbed=!0,n[Q].error)throw n[Q].error;let{body:r}=n;if(r===null)return J.Buffer.alloc(0);if(!(r instanceof ne.default))return J.Buffer.alloc(0);let o=[],a=0;try{for await(let s of r){if(n.size>0&&a+s.length>n.size){let u=new Z(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(u),u}a+=s.length,o.push(s)}}catch(s){throw s instanceof Ie?s:new Z(`Invalid response body while trying to fetch ${n.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?J.Buffer.from(o.join("")):J.Buffer.concat(o,a)}catch(s){throw new Z(`Could not create Buffer from response body for ${n.url}: ${s.message}`,"system",s)}else throw new Z(`Premature close of server response while trying to fetch ${n.url}`)}var dt=(n,r)=>{let o,a,{body:s}=n[Q];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ne.default&&typeof s.getBoundary!="function"&&(o=new ne.PassThrough({highWaterMark:r}),a=new ne.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(a),n[Q].stream=o,s=a),s},Nf=(0,Re.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),jr=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":Zn(n)?"application/x-www-form-urlencoded;charset=UTF-8":zt(n)?n.type||null:J.Buffer.isBuffer(n)||Re.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof je?`multipart/form-data; boundary=${r[Q].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${Nf(n)}`:n instanceof ne.default?null:"text/plain;charset=UTF-8",Fs=n=>{let{body:r}=n[Q];return r===null?0:zt(r)?r.size:J.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Ds=async(n,{body:r})=>{r===null?n.end():await jf(r,n)};var ro=require("node:util"),jt=ce(require("node:http"),1),Nr=typeof jt.default.validateHeaderName=="function"?jt.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},no=typeof jt.default.validateHeaderValue=="function"?jt.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},ee=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof ee){let a=r.raw();for(let[s,u]of Object.entries(a))o.push(...u.map(f=>[s,f]))}else if(r!=null)if(typeof r=="object"&&!ro.types.isBoxedPrimitive(r)){let a=r[Symbol.iterator];if(a==null)o.push(...Object.entries(r));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||ro.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");o=o.length>0?o.map(([a,s])=>(Nr(a),no(a,String(s)),[String(a).toLowerCase(),String(s)])):void 0;super(o);return new Proxy(this,{get(a,s,u){switch(s){case"append":case"set":return(f,m)=>(Nr(f),no(f,String(m)),URLSearchParams.prototype[s].call(a,String(f).toLowerCase(),String(m)));case"delete":case"has":case"getAll":return f=>(Nr(f),URLSearchParams.prototype[s].call(a,String(f).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let a=o.join(", ");return/^content-encoding$/i.test(r)&&(a=a.toLowerCase()),a}forEach(r,o=void 0){for(let a of this.keys())Reflect.apply(r,o,[this.get(a),a,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let a=this.getAll(o);return o==="host"?r[o]=a[0]:r[o]=a.length>1?a:a[0],r},{})}};Object.defineProperties(ee.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function Ws(n=[]){return new ee(n.reduce((r,o,a,s)=>(a%2===0&&r.push(s.slice(a,a+2)),r),[]).filter(([r,o])=>{try{return Nr(r),no(r,String(o)),!0}catch{return!1}}))}var Uf=new Set([301,302,303,307,308]),Ur=n=>Uf.has(n);var fe=Symbol("Response internals"),V=class extends we{constructor(r=null,o={}){super(r,o);let a=o.status!=null?o.status:200,s=new ee(o.headers);if(r!==null&&!s.has("Content-Type")){let u=jr(r,this);u&&s.append("Content-Type",u)}this[fe]={type:"default",url:o.url,status:a,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[fe].type}get url(){return this[fe].url||""}get status(){return this[fe].status}get ok(){return this[fe].status>=200&&this[fe].status<300}get redirected(){return this[fe].counter>0}get statusText(){return this[fe].statusText}get headers(){return this[fe].headers}get highWaterMark(){return this[fe].highWaterMark}clone(){return new V(dt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Ur(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new V(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new V(null,{status:0,statusText:""});return r[fe].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(V.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Gs=require("node:url"),Vs=require("node:util");var Ls=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var $s=require("node:net");function zs(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var Ms=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),js="strict-origin-when-cross-origin";function Ns(n){if(!Ms.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function Hf(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,$s.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(n.host)?!1:n.protocol==="file:"}function ht(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:Hf(n)}function Us(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let a=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let s=n.referrer,u=zs(s),f=zs(s,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),o&&(f=o(f));let m=new URL(n.url);switch(a){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return ht(u)&&!ht(m)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===m.origin?u:ht(u)&&!ht(m)?"no-referrer":f;case"same-origin":return u.origin===m.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===m.origin?u:f;case"no-referrer-when-downgrade":return ht(u)&&!ht(m)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${a}`)}}function Hs(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let a of r)a&&Ms.has(a)&&(o=a);return o}var U=Symbol("Request internals"),Nt=n=>typeof n=="object"&&typeof n[U]=="object",Gf=(0,Vs.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),ke=class extends we{constructor(r,o={}){let a;if(Nt(r)?a=new URL(r.url):(a=new URL(r),r={}),a.username!==""||a.password!=="")throw new TypeError(`${a} is an url with embedded credentials.`);let s=o.method||r.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(s)&&(s=s.toUpperCase()),!Nt(o)&&"data"in o&&Gf(),(o.body!=null||Nt(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:Nt(r)&&r.body!==null?dt(r):null;super(u,{size:o.size||r.size||0});let f=new ee(o.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let p=jr(u,this);p&&f.set("Content-Type",p)}let m=Nt(r)?r.signal:null;if("signal"in o&&(m=o.signal),m!=null&&!Cs(m))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let b=o.referrer==null?r.referrer:o.referrer;if(b==="")b="no-referrer";else if(b){let p=new URL(b);b=/^about:(\/\/)?client$/.test(p)?"client":p}else b=void 0;this[U]={method:s,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:a,signal:m,referrer:b},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[U].method}get url(){return(0,Gs.format)(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}get referrer(){if(this[U].referrer==="no-referrer")return"";if(this[U].referrer==="client")return"about:client";if(this[U].referrer)return this[U].referrer.toString()}get referrerPolicy(){return this[U].referrerPolicy}set referrerPolicy(r){this[U].referrerPolicy=Ns(r)}clone(){return new ke(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(ke.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ys=n=>{let{parsedURL:r}=n[U],o=new ee(n[U].headers);o.has("Accept")||o.set("Accept","*/*");let a=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(a="0"),n.body!==null){let m=Fs(n);typeof m=="number"&&!Number.isNaN(m)&&(a=String(m))}a&&o.set("Content-Length",a),n.referrerPolicy===""&&(n.referrerPolicy=js),n.referrer&&n.referrer!=="no-referrer"?n[U].referrer=Us(n):n[U].referrer="no-referrer",n[U].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip, deflate, br");let{agent:s}=n;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=Ls(r),f={path:r.pathname+u,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:s};return{parsedURL:r,options:f}};var oo=class extends Ie{constructor(r,o="aborted"){super(r,o)}};Lr();eo();var Vf=new Set(["data:","http:","https:"]);async function Hr(n,r){return new Promise((o,a)=>{let s=new ke(n,r),{parsedURL:u,options:f}=Ys(s);if(!Vf.has(u.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let y=bs(s.url),C=new V(y,{headers:{"Content-Type":y.typeFull}});o(C);return}let m=(u.protocol==="https:"?Xs.default:Qs.default).request,{signal:b}=s,p=null,R=()=>{let y=new oo("The operation was aborted.");a(y),s.body&&s.body instanceof te.default.Readable&&s.body.destroy(y),!(!p||!p.body)&&p.body.emit("error",y)};if(b&&b.aborted){R();return}let T=()=>{R(),g()},S=m(u.toString(),f);b&&b.addEventListener("abort",T);let g=()=>{S.abort(),b&&b.removeEventListener("abort",T)};S.on("error",y=>{a(new Z(`request to ${s.url} failed, reason: ${y.message}`,"system",y)),g()}),Yf(S,y=>{p&&p.body&&p.body.destroy(y)}),process.version<"v14"&&S.on("socket",y=>{let C;y.prependListener("end",()=>{C=y._eventsCount}),y.prependListener("close",P=>{if(p&&C<y._eventsCount&&!P){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",p.body.emit("error",v)}})}),S.on("response",y=>{S.setTimeout(0);let C=Ws(y.rawHeaders);if(Ur(y.statusCode)){let I=C.get("Location"),z=null;try{z=I===null?null:new URL(I,s.url)}catch{if(s.redirect!=="manual"){a(new Z(`uri requested responds with an invalid redirect URL: ${I}`,"invalid-redirect")),g();return}}switch(s.redirect){case"error":a(new Z(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(z===null)break;if(s.counter>=s.follow){a(new Z(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let k={headers:new ee(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:dt(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Ps(s.url,z)||!As(s.url,z))for(let X of["authorization","www-authenticate","cookie","cookie2"])k.headers.delete(X);if(y.statusCode!==303&&s.body&&r.body instanceof te.default.Readable){a(new Z("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&s.method==="POST")&&(k.method="GET",k.body=void 0,k.headers.delete("content-length"));let oe=Hs(C);oe&&(k.referrerPolicy=oe),o(Hr(new ke(z,k))),g();return}default:return a(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}b&&y.once("end",()=>{b.removeEventListener("abort",T)});let P=(0,te.pipeline)(y,new te.PassThrough,I=>{I&&a(I)});process.version<"v12.10"&&y.on("aborted",T);let v={url:s.url,status:y.statusCode,statusText:y.statusMessage,headers:C,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},F=C.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||F===null||y.statusCode===204||y.statusCode===304){p=new V(P,v),o(p);return}let H={flush:Ue.default.Z_SYNC_FLUSH,finishFlush:Ue.default.Z_SYNC_FLUSH};if(F==="gzip"||F==="x-gzip"){P=(0,te.pipeline)(P,Ue.default.createGunzip(H),I=>{I&&a(I)}),p=new V(P,v),o(p);return}if(F==="deflate"||F==="x-deflate"){let I=(0,te.pipeline)(y,new te.PassThrough,z=>{z&&a(z)});I.once("data",z=>{(z[0]&15)===8?P=(0,te.pipeline)(P,Ue.default.createInflate(),k=>{k&&a(k)}):P=(0,te.pipeline)(P,Ue.default.createInflateRaw(),k=>{k&&a(k)}),p=new V(P,v),o(p)}),I.once("end",()=>{p||(p=new V(P,v),o(p))});return}if(F==="br"){P=(0,te.pipeline)(P,Ue.default.createBrotliDecompress(),I=>{I&&a(I)}),p=new V(P,v),o(p);return}p=new V(P,v),o(p)}),Ds(S,s).catch(a)})}function Yf(n,r){let o=Ut.Buffer.from(`0\r
\r
`),a=!1,s=!1,u;n.on("response",f=>{let{headers:m}=f;a=m["transfer-encoding"]==="chunked"&&!m["content-length"]}),n.on("socket",f=>{let m=()=>{if(a&&!s){let p=new Error("Premature close");p.code="ERR_STREAM_PREMATURE_CLOSE",r(p)}},b=p=>{s=Ut.Buffer.compare(p.slice(-5),o)===0,!s&&u&&(s=Ut.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&Ut.Buffer.compare(p.slice(-2),o.slice(3))===0),u=p};f.prependListener("close",m),f.on("data",b),n.on("close",()=>{f.removeListener("close",m),f.removeListener("data",b)})})}var Ks=L.environment.isDevelopment?"http://localhost:3000":"https://pika.style",Qf=async({file:n})=>{if(!(0,mt.existsSync)(n))return await(0,L.showToast)({title:"File does not exist",style:L.Toast.Style.Failure}),{error:"File does not exist"};if((0,mt.statSync)(n).size/(1024*1024)>3.9)return await(0,L.showToast)({title:"File size cannot be more than 4MBs",style:L.Toast.Style.Failure}),{error:"File size cannot be more than 4MBs"};let a=(0,mt.readFileSync)(n,{encoding:"base64"});return await Hr(`${Ks}/api/addPublicImage`,{method:"POST",body:JSON.stringify({baseData:a,source:"raycast"})}).then(u=>u.json())};function Zs(){let[n,r]=(0,io.useState)(!1),[o,a]=(0,io.useState)("");async function s(){r(!0),Qf({file:o}).then(async u=>{if(u.url){await(0,L.open)(`${Ks}/?use=${u?.url}&utm_source=Pika%20for%20Raycast(Image)`),await(0,L.showHUD)("Opening in pika.style...");return}u.error?await(0,L.showToast)({title:u.error,style:L.Toast.Style.Failure}):await(0,L.showToast)({title:"Something went wrong, please try again",style:L.Toast.Style.Failure})}).finally(()=>{r(!1)})}return _jsx(L.Form,{navigationTitle:n?"\u{1F916} Processing your image...":"pika.style",isLoading:n,actions:_jsx(L.ActionPanel,null,_jsx(L.Action.SubmitForm,{title:"Open in Pika",onSubmit:s}),_jsx(Dr.SelectFile,{icon:L.Icon.Finder,title:"Select Image From Finder...",prompt:"Please select an image",type:"public.image",shortcut:{key:"o",modifiers:["cmd"]},onSelect:u=>{u&&a(u)}}))},_jsx(L.Form.TextField,{id:"file",title:"Select image",value:o,onChange:a,placeholder:"Enter the file path, or press \u2318+O to pick file"}),_jsx(L.Form.Description,{title:"Note",text:"File size cannot exceed 4MB, your file will be temporarily stored on a server"}))}module.exports=Iu(Xf);0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
